<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#0f0f0f">
  <meta name="background-color" content="#000000">
  <title>Radiation-Hunt</title>
  <style>
    body { margin: 0; padding: 0; background: #000; color: #0ff; font-family: monospace; overflow: hidden; }
    canvas#bgCanvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }
    #statusBar { padding: 10px; font-size: 20px; text-align: center; text-shadow: 0 0 10px #0ff; }
    #console { height: 300px; width: 95%; margin: 10px auto; background: rgba(0, 0, 20, 0.8); border: 2px solid #0ff; overflow-y: auto; padding: 10px; border-radius: 8px; }
    .console-line { opacity: 0; animation: fadeInUp 0.5s forwards; margin: 2px 0; }
    @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } from { opacity: 0; transform: translateY(10px); } }
    #input { width: 60%; margin: 10px auto; padding: 8px; border-radius: 5px; background: #000; border: 2px solid #0ff; color: #0ff; display: inline-block; }
    button { margin: 5px; padding: 8px 12px; border-radius: 5px; background: #000; border: 2px solid #0ff; color: #0ff; cursor: pointer; }
    button:hover { background: #011111; box-shadow: 0 0 10px #0ff; }
    #shopPanel { display: none; background: rgba(0, 0, 20, 0.95); border: 2px solid #0ff; border-radius: 8px; padding: 10px; margin: 10px auto; width: 90%; max-width: 600px; }
    .category { cursor: pointer; padding: 5px; margin: 3px; display: inline-block; border: 1px solid #0ff; border-radius: 5px; }
    .category:hover { background: #0ff1; }
    .item { padding: 5px; margin: 3px; border: 1px solid #0ff; border-radius: 5px; cursor: pointer; display: block; }
    .item:hover { background: #0ff1; }
    .item.bought { animation: popBuy 0.8s forwards; }
    @keyframes popBuy { 0% { transform: scale(1) rotate(0deg); opacity: 1; } 50% { transform: scale(1.5) rotate(15deg); opacity: 1; filter: brightness(2); } 100% { transform: scale(0) rotate(30deg); opacity: 0; } }
    #inventory { padding: 10px; width: 95%; margin: 10px auto; background: rgba(0, 0, 20, 0.8); border: 2px solid #0ff; border-radius: 8px; }
  </style>
</head>
<body>
  <canvas id="bgCanvas"></canvas>
  <div id="statusBar">üí† Body: <span id="pointsDisplay">0</span></div>
  <div id="console"></div>
  <div style="text-align:center;">
    <input type="text" id="input" placeholder="Zadej k√≥d...">
    <button id="sendButton">‚û°Ô∏è Odeslat</button>
    <button id="shopButton">üõí Otev≈ô√≠t shop</button>
  </div>

  <div id="shopPanel">
    <h3>üõçÔ∏è Shop</h3>
    <button onclick="closeShop()">‚ùå Zav≈ô√≠t shop</button>
    <div id="categories"></div>
    <div id="itemsList"></div>
    <h4>üß∞ Invent√°≈ô</h4>
    <div id="inventory"></div>
  </div>

  <script>
    // ------------------- PLAYER DATA -------------------
    let player = JSON.parse(localStorage.getItem("playerData")) || { points: 0, inventory: [], locked: false };
    const pointsDisplay = document.getElementById("pointsDisplay");
    function updatePoints() { pointsDisplay.textContent = player.points; }
    function saveData() { localStorage.setItem("playerData", JSON.stringify(player)); }

    // ------------------- LOG -------------------
    function log(text) {
      const c = document.getElementById("console");
      const line = document.createElement("div");
      line.className = "console-line";
      line.textContent = text;
      c.appendChild(line);
      c.scrollTop = c.scrollHeight;
    }

    // ------------------- CODES -------------------
    let codes = [
      { code: "ZELDA92", points: 12 }, { code: "NEONX1", points: 15 }, { code: "GALAXY7", points: 10 },
      { code: "ASTRO99", points: 18 }, { code: "QUANTUM3", points: 20 }, { code: "ORBIT5", points: 14 },
      { code: "PLASMA11", points: 17 }, { code: "COSMOS42", points: 19 }, { code: "NOVA88", points: 22 },
      { code: "METEOR66", points: 16 }, { code: "SOLAR21", points: 13 }, { code: "LUNAR55", points: 15 },
      { code: "STAR9", points: 18 }, { code: "COMET34", points: 20 }, { code: "ASTEROID1", points: 12 },
      { code: "BLACKHOLE7", points: 17 }, { code: "SUPERNOVA5", points: 19 }, { code: "NEBULA2", points: 14 },
      { code: "SATURN3", points: 16 }, { code: "JUPITER8", points: 20 }, { code: "MARS42", points: 12 },
      { code: "VENUS77", points: 15 }, { code: "EARTH99", points: 18 }, { code: "MERCURY11", points: 13 },
      { code: "URANUS22", points: 16 }, { code: "PLUTO5", points: 19 }, { code: "COSMIC1", points: 14 },
      { code: "ORION3", points: 17 }, { code: "LYRA7", points: 20 }, { code: "ANDROMEDA8", points: 12 },
      { code: "PEGASUS6", points: 15 }, { code: "CENTAUR9", points: 18 }, { code: "PHOENIX2", points: 16 },
      { code: "DRACO4", points: 14 }, { code: "AQUILA5", points: 19 }, { code: "CYGNUS8", points: 13 },
      { code: "TITAN9", points: 16 }, { code: "NEPTUNE7", points: 20 }, { code: "SATELLITE3", points: 12 },
      { code: "ROCKET6", points: 15 }, { code: "SPACESHIP1", points: 18 }, { code: "ALIENX9", points: 17 },
      { code: "ASTROBOT5", points: 14 }, { code: "BLACKSTAR3", points: 19 }, { code: "QUASAR4", points: 12 },
      { code: "PULSAR8", points: 16 }, { code: "SUPERMASSIVE7", points: 20 }, { code: "WORMHOLE6", points: 13 },
      { code: "COSMICRAY2", points: 15 }, { code: "SOLARFLARE3", points: 18 }
    ];

    // ------------------- SHOP ITEMS -------------------
    const shopItems = {
      boosty: [
        { name: "Rychlostn√≠ Boost", cost: 10, stock: Math.floor(Math.random() * 4), ability: "Zvy≈°uje rychlost o 20%" },
        { name: "S√≠la Laseru", cost: 12, stock: Math.floor(Math.random() * 4), ability: "Zp≈Øsob√≠ extra damage" },
        { name: "Magnetick√Ω ≈†t√≠t", cost: 14, stock: Math.floor(Math.random() * 4), ability: "Ochrana proti √∫tok≈Øm" },
        { name: "Super Skok", cost: 16, stock: Math.floor(Math.random() * 4), ability: "Skok o 50% vy≈°≈°√≠" },
        { name: "Extra Body", cost: 18, stock: Math.floor(Math.random() * 4), ability: "P≈ôid√°v√° extra body za k√≥dy" },
        { name: "ƒåasov√Ω Zrychlovaƒç", cost: 20, stock: Math.floor(Math.random() * 4), ability: "Zrychluje ƒças na 10s" },
        { name: "Nesmrtelnost 5s", cost: 22, stock: Math.floor(Math.random() * 4), ability: "Nesmrtelnost po 5 sekund" },
        { name: "Raketov√Ω Pohon", cost: 24, stock: Math.floor(Math.random() * 4), ability: "Rychl√Ω pohyb v mapƒõ" },
        { name: "Energie Plazmy", cost: 26, stock: Math.floor(Math.random() * 4), ability: "Zvy≈°uje po≈°kozen√≠ z plazmy" },
        { name: "Gravity Lift", cost: 28, stock: Math.floor(Math.random() * 4), ability: "Ovl√°d√°n√≠ gravitace" }
      ],
      itemy: [
        { name: "Plazmov√° Pu≈°ka", cost: 8, stock: Math.floor(Math.random() * 4), ability: "St≈ô√≠l√≠ plazmov√© st≈ôely" },
        { name: "Laserov√Ω Meƒç", cost: 9, stock: Math.floor(Math.random() * 4), ability: "Melee √∫tok s laserem" },
        { name: "Nano Brnƒõn√≠", cost: 10, stock: Math.floor(Math.random() * 4), ability: "Sni≈æuje p≈ôijat√© po≈°kozen√≠" },
        { name: "Teleport√°tor", cost: 11, stock: Math.floor(Math.random() * 4), ability: "Teleport na kr√°tkou vzd√°lenost" },
        { name: "Energetick√Ω Modul", cost: 12, stock: Math.floor(Math.random() * 4), ability: "Regenerace energie" },
        { name: "V√Ωbu≈°n√Ω Gran√°t", cost: 13, stock: Math.floor(Math.random() * 4), ability: "Explozivn√≠ po≈°kozen√≠" },
        { name: "Repair Kit", cost: 14, stock: Math.floor(Math.random() * 4), ability: "L√©ƒç√≠ hr√°ƒçe" },
        { name: "Plasma Dron", cost: 15, stock: Math.floor(Math.random() * 4), ability: "√ötoƒç√≠ na nep≈ô√°tele automaticky" },
        { name: "Stealth Modul", cost: 16, stock: Math.floor(Math.random() * 4), ability: "Neviditelnost na 5s" },
        { name: "Antigravity Boots", cost: 17, stock: Math.floor(Math.random() * 4), ability: "Ch≈Øze po vzduchu" }
      ],
      achievements: [
        { name: "Mistr K√≥d≈Ø", cost: 20, stock: Math.floor(Math.random() * 4), ability: "Odemyk√° speci√°ln√≠ titul" },
        { name: "Galactic Hunter", cost: 21, stock: Math.floor(Math.random() * 4), ability: "Extra body za ka≈æd√Ω k√≥d" },
        { name: "Asteroid Slayer", cost: 22, stock: Math.floor(Math.random() * 4), ability: "Bonus damage na asteroidy" },
        { name: "Supernova Survivor", cost: 23, stock: Math.floor(Math.random() * 4), ability: "Odolnost proti v√Ωbuch≈Øm" },
        { name: "Cosmic Explorer", cost: 24, stock: Math.floor(Math.random() * 4), ability: "Z√≠sk√°n√≠ unik√°tn√≠ch lokac√≠" },
        { name: "Star Collector", cost: 25, stock: Math.floor(Math.random() * 4), ability: "Sb√≠r√°n√≠ hvƒõzdn√Ωch bod≈Ø" },
        { name: "Void Walker", cost: 26, stock: Math.floor(Math.random() * 4), ability: "Rychl√Ω pohyb vesm√≠rem" },
        { name: "Quantum Master", cost: 27, stock: Math.floor(Math.random() * 4), ability: "Zvy≈°uje body za k√≥dy" },
        { name: "Nebula Nomad", cost: 28, stock: Math.floor(Math.random() * 4), ability: "Zvl√°≈°tn√≠ schopnosti v mlhovin√°ch" },
        { name: "Pulsar Conqueror", cost: 29, stock: Math.floor(Math.random() * 4), ability: "Odemyk√° speci√°ln√≠ pulsar efekty" }
      ]
    };

    // ------------------- SHOP FUNCTIONS -------------------
    const categoriesDiv = document.getElementById("categories");
    const itemsListDiv = document.getElementById("itemsList");
    const inventoryDiv = document.getElementById("inventory");

    function showShop() {
      document.getElementById("shopPanel").style.display = "block";
      categoriesDiv.innerHTML = "";
      itemsListDiv.innerHTML = "";
      updateInventory();
      for (let cat in shopItems) {
        let b = document.createElement("div");
        b.className = "category";
        b.textContent = cat.toUpperCase();
        b.onclick = () => showItems(cat);
        categoriesDiv.appendChild(b);
      }
    }

    function closeShop() {
      document.getElementById("shopPanel").style.display = "none";
    }

    function showItems(cat) {
      itemsListDiv.innerHTML = "";
      shopItems[cat].forEach(i => {
        let it = document.createElement("div");
        it.className = "item";
        it.textContent = `${i.name} - ${i.cost} bod≈Ø (Stock: ${i.stock})`;
        if (i.stock === 0) {
          it.style.opacity = "0.3";
          it.style.cursor = "not-allowed";
        }
        it.onclick = () => {
          if (i.stock > 0) {
            buyItem(cat, i, it);
          } else {
            log(`‚ùå ${i.name} nen√≠ skladem!`);
          }
        };
        itemsListDiv.appendChild(it);
      });
    }

    function buyItem(cat, item, el) {
      if (player.points >= item.cost && item.stock > 0) {
        player.points -= item.cost;
        updatePoints();
        item.stock--;
        player.inventory.push(item.name);
        saveData();
        updateInventory();
        el.classList.add("bought");
        setTimeout(() => el.classList.remove("bought"), 800);
        log(`üõí Koupil jsi: ${item.name} ‚Üí ${item.ability} (Stock: ${item.stock})`);
        showItems(cat);
      } else {
        log("‚ùå Nem√°≈° dost bod≈Ø nebo item nen√≠ skladem.");
      }
    }

    function updateInventory() {
      inventoryDiv.innerHTML = "";
      player.inventory.forEach(itemName => {
        let item = null;
        for (let cat in shopItems) {
          item = shopItems[cat].find(i => i.name === itemName);
          if (item) break;
        }
        if (item) {
          let d = document.createElement("div");
          d.textContent = `${item.name} ‚Üí ${item.ability}`;
          let useButton = document.createElement("button");
          useButton.textContent = "Pou≈æ√≠t";
          useButton.onclick = () => useItem(item);
          d.appendChild(useButton);
          inventoryDiv.appendChild(d);
        }
      });
    }

    // ------------------- USE ITEM FUNCTION -------------------
    function useItem(item) {
      log(`‚úÖ Pou≈æil jsi: ${item.name} ‚Üí ${item.ability}`);
      // Implement the ability logic here (for example, apply a boost)
      if (item.ability === "Zvy≈°uje rychlost o 20%") {
        // Apply speed boost logic
        log("Rychlost byla zv√Ω≈°ena o 20%");
      } else if (item.ability === "Zp≈Øsob√≠ extra damage") {
        // Apply extra damage logic
        log("Zp≈Øsoben√Ω extra damage!");
      }
      // Remove item from inventory after use (optional)
      player.inventory = player.inventory.filter(i => i !== item.name);
      saveData();
      updateInventory();
    }

    // ------------------- CODE PROCESSING -------------------
    function processCode(code) {
      if (player.locked) { log("‚ùå Termin√°l je zamƒçen!"); return; }
      let c = codes.find(x => x.code.toUpperCase() === code.toUpperCase());
      if (c) {
        if (c.code === "RESET") {
          localStorage.removeItem("playerData");
          player = { points: 0, inventory: [], locked: false };
          saveData();
          log("üîÑ Data byla resetov√°na!");
        } else {
          player.points += c.points;
          updatePoints();
          log(`üéâ Z√≠skal jsi ${c.points} bod≈Ø za k√≥d: ${c.code}`);
        }
      } else {
        log("‚ùå Neplatn√Ω k√≥d!");
      }
    }

    // ------------------- EVENT LISTENERS -------------------
    document.getElementById("sendButton").addEventListener("click", () => {
      const code = document.getElementById("input").value;
      processCode(code);
      document.getElementById("input").value = "";
    });

    document.getElementById("shopButton").addEventListener("click", showShop);

    // ------------------- INITIALIZATION -------------------
    updatePoints();
    log("üí† V√≠tej v Radiation-Hunt! Zadej k√≥d pro z√≠sk√°n√≠ bod≈Ø.");
  </script>
</body>
</html>